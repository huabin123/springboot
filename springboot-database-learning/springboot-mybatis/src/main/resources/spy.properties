#################################################################
# P6Spy Configuration File
# Purpose: Print complete executable SQL statements
# Documentation: springboot-mybatis/docs/01_mybatis\u5e38\u89c1\u95ee\u9898/02_MyBatis\u6253\u5370\u5b8c\u6574\u53ef\u6267\u884cSQL\u914d\u7f6e.md
#################################################################

# Specify the log interception module
modulelist=com.p6spy.engine.spy.P6SpyFactory,com.p6spy.engine.logging.P6LogFactory,com.p6spy.engine.outage.P6OutageFactory

# Real JDBC driver
driverlist=com.mysql.cj.jdbc.Driver

# Use logging system to record SQL
appender=com.p6spy.engine.spy.appender.Slf4JLogger

# Configure log exceptions
# Remove info,debug,result,commit,resultset to reduce log output
excludecategories=info,debug,result,commit,resultset

# Date format
dateformat=yyyy-MM-dd HH:mm:ss

# Enable slow SQL detection
outagedetection=true

# Slow SQL threshold in seconds (over 2 seconds is considered slow)
outagedetectioninterval=2

# Execution time threshold in milliseconds (0 means log all SQL)
executionThreshold=0

# Custom log message format
logMessageFormat=com.p6spy.engine.spy.appender.CustomLineFormat

# Custom log message content
# Available variables: %(connectionId), %(currentTime), %(executionTime), %(category), %(sql), %(sqlSingleLine)
customLogMessageFormat=%(currentTime) | Time: %(executionTime)ms | SQL: %(sql)

# Monitor configuration file reload
reloadproperties=false

# Configuration file reload interval in seconds
reloadpropertiesinterval=60

#################################################################
# Production Environment Recommended Configuration
# (Comment out the above configuration and enable the below)
#################################################################

# Only log slow SQL (over 1 second)
# executionThreshold=1000

# Only enable slow SQL detection
# outagedetection=true
# outagedetectioninterval=1

# Disable normal SQL logging
# excludecategories=info,debug,result,commit,resultset,batch,statement
