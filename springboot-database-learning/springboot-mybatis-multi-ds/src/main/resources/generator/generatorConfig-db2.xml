<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE generatorConfiguration
        PUBLIC "-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN"
        "http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd">

<!--
    MyBatis Generator 配置文件 - 从数据源（springboot_db2）
    
    使用说明：
    1. 修改数据库连接信息（已配置好）
    2. 修改要生成的表名（table标签）
    3. 运行命令：mvn mybatis-generator:generate -Dmybatis.generator.configurationFile=src/main/resources/generator/generatorConfig-db2.xml
    
    生成文件位置：
    - Entity：src/main/java/com/huabin/multids/db2/entity/
    - Mapper：src/main/java/com/huabin/multids/db2/mapper/
    - XML：src/main/resources/mapper/db2/
-->

<generatorConfiguration>
    <!-- 数据库驱动jar包位置（可选，如果在pom.xml中已配置则不需要） -->
    <!-- <classPathEntry location="/path/to/mysql-connector-java.jar"/> -->

    <context id="DB2Tables" targetRuntime="MyBatis3">
        
        <!-- 生成的Java文件编码 -->
        <property name="javaFileEncoding" value="UTF-8"/>
        
        <!-- 格式化Java代码 -->
        <property name="javaFormatter" value="org.mybatis.generator.api.dom.DefaultJavaFormatter"/>
        
        <!-- 格式化XML代码 -->
        <property name="xmlFormatter" value="org.mybatis.generator.api.dom.DefaultXmlFormatter"/>

        <!-- 注释生成器配置 -->
        <commentGenerator>
            <!-- 是否去除自动生成的注释 -->
            <property name="suppressAllComments" value="false"/>
            <!-- 是否生成注释时间戳 -->
            <property name="suppressDate" value="true"/>
            <!-- 是否添加数据库表的备注信息 -->
            <property name="addRemarkComments" value="true"/>
        </commentGenerator>

        <!-- 数据库连接配置 -->
        <jdbcConnection 
            driverClass="com.mysql.cj.jdbc.Driver"
            connectionURL="jdbc:mysql://localhost:3306/springboot_db2?useUnicode=true&amp;characterEncoding=utf8&amp;serverTimezone=Asia/Shanghai&amp;useSSL=false&amp;allowPublicKeyRetrieval=true"
            userId="springboot"
            password="Huabin123$">
            <!-- 针对MySQL 8.x，需要设置nullCatalogMeansCurrent=true -->
            <property name="nullCatalogMeansCurrent" value="true"/>
            <!-- 获取表注释 -->
            <property name="useInformationSchema" value="true"/>
        </jdbcConnection>

        <!-- Java类型解析器配置 -->
        <javaTypeResolver>
            <!-- 是否使用BigDecimal，false则使用Integer/Long等 -->
            <property name="forceBigDecimals" value="false"/>
            <!-- 是否使用JSR310日期类型（LocalDateTime等） -->
            <property name="useJSR310Types" value="true"/>
        </javaTypeResolver>

        <!-- 实体类生成配置 -->
        <javaModelGenerator 
            targetPackage="com.huabin.multids.db2.entity" 
            targetProject="src/main/java">
            <!-- 是否在当前路径下新建一层schema子包 -->
            <property name="enableSubPackages" value="false"/>
            <!-- 是否针对String类型的字段在set方法中进行trim操作 -->
            <property name="trimStrings" value="true"/>
            <!-- 是否生成不可变的实体类（只有getter，通过构造器赋值） -->
            <property name="immutable" value="false"/>
            <!-- 是否生成toString方法 -->
            <property name="constructorBased" value="false"/>
        </javaModelGenerator>

        <!-- Mapper XML文件生成配置 -->
        <sqlMapGenerator 
            targetPackage="mapper.db2" 
            targetProject="src/main/resources">
            <!-- 是否在当前路径下新建一层schema子包 -->
            <property name="enableSubPackages" value="false"/>
        </sqlMapGenerator>

        <!-- Mapper接口生成配置 -->
        <javaClientGenerator 
            type="XMLMAPPER" 
            targetPackage="com.huabin.multids.db2.mapper" 
            targetProject="src/main/java">
            <!-- 是否在当前路径下新建一层schema子包 -->
            <property name="enableSubPackages" value="false"/>
        </javaClientGenerator>

        <!-- 
            要生成的表配置
            
            tableName：数据库表名
            domainObjectName：生成的实体类名
            enableCountByExample：是否生成countByExample方法
            enableUpdateByExample：是否生成updateByExample方法
            enableDeleteByExample：是否生成deleteByExample方法
            enableSelectByExample：是否生成selectByExample方法
            selectByExampleQueryId：是否生成selectByExampleWithBLOBs方法
            
            示例：
            <table tableName="product" domainObjectName="Product" 
                   enableCountByExample="false" 
                   enableUpdateByExample="false"
                   enableDeleteByExample="false" 
                   enableSelectByExample="false"
                   selectByExampleQueryId="false">
                <generatedKey column="id" sqlStatement="JDBC"/>
            </table>
        -->
        
        <!-- 示例表配置（请根据实际表名修改） -->
        <table tableName="product" domainObjectName="Product" 
               enableCountByExample="false" 
               enableUpdateByExample="false"
               enableDeleteByExample="false" 
               enableSelectByExample="false"
               selectByExampleQueryId="false">
            <!-- 主键生成策略 -->
            <generatedKey column="id" sqlStatement="JDBC"/>
        </table>

        <!-- 可以配置多个表 -->
        <!--
        <table tableName="category" domainObjectName="Category" 
               enableCountByExample="false" 
               enableUpdateByExample="false"
               enableDeleteByExample="false" 
               enableSelectByExample="false"
               selectByExampleQueryId="false">
            <generatedKey column="id" sqlStatement="JDBC"/>
        </table>
        -->

        <!-- 生成所有表（不推荐，建议明确指定表名） -->
        <!--
        <table tableName="%" 
               enableCountByExample="false" 
               enableUpdateByExample="false"
               enableDeleteByExample="false" 
               enableSelectByExample="false"
               selectByExampleQueryId="false">
        </table>
        -->

    </context>
</generatorConfiguration>
