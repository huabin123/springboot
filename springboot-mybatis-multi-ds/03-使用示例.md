# 03-ä½¿ç”¨ç¤ºä¾‹

## ğŸ“Œ é¡¹ç›®å¯åŠ¨

### 1. å‡†å¤‡æ•°æ®åº“

**åˆ›å»ºæ•°æ®åº“å’Œç”¨æˆ·ï¼š**

```sql
-- åˆ›å»ºæ•°æ®åº“
CREATE DATABASE IF NOT EXISTS springboot_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
CREATE DATABASE IF NOT EXISTS springboot_db2 CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- åˆ›å»ºç”¨æˆ·å¹¶æˆæƒï¼ˆå¦‚æœéœ€è¦ï¼‰
CREATE USER 'springboot'@'localhost' IDENTIFIED BY 'Huabin123$';
GRANT ALL PRIVILEGES ON springboot_db.* TO 'springboot'@'localhost';
GRANT ALL PRIVILEGES ON springboot_db2.* TO 'springboot'@'localhost';
FLUSH PRIVILEGES;
```

**åˆ›å»ºæµ‹è¯•è¡¨ï¼š**

```sql
-- ä¸»æ•°æ®æºè¡¨
USE springboot_db;

CREATE TABLE `user` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT COMMENT 'ç”¨æˆ·ID',
  `username` VARCHAR(50) NOT NULL COMMENT 'ç”¨æˆ·å',
  `password` VARCHAR(100) NOT NULL COMMENT 'å¯†ç ',
  `email` VARCHAR(100) DEFAULT NULL COMMENT 'é‚®ç®±',
  `phone` VARCHAR(20) DEFAULT NULL COMMENT 'æ‰‹æœºå·',
  `status` INT(11) DEFAULT '1' COMMENT 'çŠ¶æ€ï¼š0-ç¦ç”¨ï¼Œ1-å¯ç”¨',
  `create_time` DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
  `update_time` DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_username` (`username`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='ç”¨æˆ·è¡¨';

-- ä»æ•°æ®æºè¡¨
USE springboot_db2;

CREATE TABLE `product` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT COMMENT 'äº§å“ID',
  `product_name` VARCHAR(100) NOT NULL COMMENT 'äº§å“åç§°',
  `product_code` VARCHAR(50) NOT NULL COMMENT 'äº§å“ç¼–ç ',
  `price` DECIMAL(10,2) NOT NULL COMMENT 'äº§å“ä»·æ ¼',
  `stock` INT(11) DEFAULT '0' COMMENT 'åº“å­˜æ•°é‡',
  `description` VARCHAR(500) DEFAULT NULL COMMENT 'äº§å“æè¿°',
  `status` INT(11) DEFAULT '1' COMMENT 'çŠ¶æ€ï¼š0-ä¸‹æ¶ï¼Œ1-ä¸Šæ¶',
  `create_time` DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
  `update_time` DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_product_code` (`product_code`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='äº§å“è¡¨';
```

### 2. å¯åŠ¨åº”ç”¨

```bash
# æ–¹å¼1ï¼šä½¿ç”¨ Maven
mvn spring-boot:run

# æ–¹å¼2ï¼šä½¿ç”¨ IDEA
# ç›´æ¥è¿è¡Œ MultiDataSourceApplication.main()

# æ–¹å¼3ï¼šæ‰“åŒ…åè¿è¡Œ
mvn clean package
java -jar target/springboot-mybatis-multi-ds-1.0-SNAPSHOT.jar
```

**å¯åŠ¨æˆåŠŸæ ‡å¿—ï¼š**

```
========================================
MyBatis å¤šæ•°æ®æºåº”ç”¨å¯åŠ¨æˆåŠŸï¼
========================================
ä¸»æ•°æ®æºï¼šspringboot_db
  - MapperåŒ…ï¼šcom.huabin.multids.db1.mapper
  - XMLè·¯å¾„ï¼šclasspath:mapper/db1/*.xml
ä»æ•°æ®æºï¼šspringboot_db2
  - MapperåŒ…ï¼šcom.huabin.multids.db2.mapper
  - XMLè·¯å¾„ï¼šclasspath:mapper/db2/*.xml
========================================
è®¿é—®åœ°å€ï¼šhttp://localhost:8080
========================================
```

---

## ğŸ”§ API æµ‹è¯•

### ä¸»æ•°æ®æºï¼ˆç”¨æˆ·ç®¡ç†ï¼‰

#### 1. å¥åº·æ£€æŸ¥

```bash
curl http://localhost:8080/api/users/health
```

**å“åº”ï¼š**
```json
{
  "success": true,
  "message": "ç”¨æˆ·æœåŠ¡æ­£å¸¸ï¼ˆä¸»æ•°æ®æº springboot_dbï¼‰",
  "datasource": "primary",
  "database": "springboot_db"
}
```

#### 2. åˆ›å»ºç”¨æˆ·

```bash
curl -X POST http://localhost:8080/api/users \
  -H "Content-Type: application/json" \
  -d '{
    "username": "zhangsan",
    "password": "123456",
    "email": "zhangsan@example.com",
    "phone": "13800138000",
    "status": 1
  }'
```

**å“åº”ï¼š**
```json
{
  "success": true,
  "data": {
    "id": 1,
    "username": "zhangsan",
    "email": "zhangsan@example.com",
    "phone": "13800138000",
    "status": 1,
    "createTime": "2025-12-29T19:15:20",
    "updateTime": "2025-12-29T19:15:20"
  },
  "message": "åˆ›å»ºæˆåŠŸ"
}
```

#### 3. æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·

```bash
curl http://localhost:8080/api/users
```

**å“åº”ï¼š**
```json
{
  "success": true,
  "data": [
    {
      "id": 1,
      "username": "zhangsan",
      "email": "zhangsan@example.com",
      "phone": "13800138000",
      "status": 1,
      "createTime": "2025-12-29T19:15:20",
      "updateTime": "2025-12-29T19:15:20"
    }
  ],
  "count": 1,
  "message": "æŸ¥è¯¢æˆåŠŸ"
}
```

#### 4. æ ¹æ®IDæŸ¥è¯¢ç”¨æˆ·

```bash
curl http://localhost:8080/api/users/1
```

#### 5. æ¡ä»¶æŸ¥è¯¢ç”¨æˆ·

```bash
curl "http://localhost:8080/api/users/search?username=zhang&status=1"
```

#### 6. æ›´æ–°ç”¨æˆ·

```bash
curl -X PUT http://localhost:8080/api/users \
  -H "Content-Type: application/json" \
  -d '{
    "id": 1,
    "username": "zhangsan",
    "password": "654321",
    "email": "zhangsan_new@example.com",
    "phone": "13900139000",
    "status": 1
  }'
```

#### 7. åˆ é™¤ç”¨æˆ·

```bash
curl -X DELETE http://localhost:8080/api/users/1
```

---

### ä»æ•°æ®æºï¼ˆäº§å“ç®¡ç†ï¼‰

#### 1. å¥åº·æ£€æŸ¥

```bash
curl http://localhost:8080/api/products/health
```

**å“åº”ï¼š**
```json
{
  "success": true,
  "message": "äº§å“æœåŠ¡æ­£å¸¸ï¼ˆä»æ•°æ®æº springboot_db2ï¼‰",
  "datasource": "secondary",
  "database": "springboot_db2"
}
```

#### 2. åˆ›å»ºäº§å“

```bash
curl -X POST http://localhost:8080/api/products \
  -H "Content-Type: application/json" \
  -d '{
    "productName": "iPhone 15",
    "productCode": "IP15",
    "price": 5999.00,
    "stock": 100,
    "description": "æœ€æ–°æ¬¾iPhone",
    "status": 1
  }'
```

**å“åº”ï¼š**
```json
{
  "success": true,
  "data": {
    "id": 1,
    "productName": "iPhone 15",
    "productCode": "IP15",
    "price": 5999.00,
    "stock": 100,
    "description": "æœ€æ–°æ¬¾iPhone",
    "status": 1,
    "createTime": "2025-12-29T19:15:20",
    "updateTime": "2025-12-29T19:15:20"
  },
  "message": "åˆ›å»ºæˆåŠŸ"
}
```

#### 3. æŸ¥è¯¢æ‰€æœ‰äº§å“

```bash
curl http://localhost:8080/api/products
```

#### 4. æ ¹æ®IDæŸ¥è¯¢äº§å“

```bash
curl http://localhost:8080/api/products/1
```

#### 5. æ¡ä»¶æŸ¥è¯¢äº§å“

```bash
curl "http://localhost:8080/api/products/search?productName=iPhone&status=1"
```

#### 6. æ›´æ–°äº§å“

```bash
curl -X PUT http://localhost:8080/api/products \
  -H "Content-Type: application/json" \
  -d '{
    "id": 1,
    "productName": "iPhone 15 Pro",
    "productCode": "IP15P",
    "price": 6999.00,
    "stock": 50,
    "description": "Proç‰ˆæœ¬",
    "status": 1
  }'
```

#### 7. åˆ é™¤äº§å“

```bash
curl -X DELETE http://localhost:8080/api/products/1
```

---

## ğŸ’» ä»£ç ä½¿ç”¨ç¤ºä¾‹

### 1. Service å±‚ä½¿ç”¨

#### ä¸»æ•°æ®æº Service

```java
@Service
public class UserService {
    
    @Autowired
    private UserMapper userMapper;  // è‡ªåŠ¨ä½¿ç”¨ä¸»æ•°æ®æº
    
    /**
     * æŸ¥è¯¢ç”¨æˆ·ï¼ˆæ— äº‹åŠ¡ï¼‰
     */
    public User getUserById(Long id) {
        return userMapper.selectByPrimaryKey(id);
    }
    
    /**
     * åˆ›å»ºç”¨æˆ·ï¼ˆå¸¦äº‹åŠ¡ï¼‰
     * é»˜è®¤ä½¿ç”¨ä¸»æ•°æ®æºçš„äº‹åŠ¡ç®¡ç†å™¨
     */
    @Transactional(rollbackFor = Exception.class)
    public int createUser(User user) {
        user.setCreateTime(LocalDateTime.now());
        user.setUpdateTime(LocalDateTime.now());
        return userMapper.insert(user);
    }
}
```

#### ä»æ•°æ®æº Service

```java
@Service
public class ProductService {
    
    @Autowired
    private ProductMapper productMapper;  // è‡ªåŠ¨ä½¿ç”¨ä»æ•°æ®æº
    
    /**
     * æŸ¥è¯¢äº§å“ï¼ˆæ— äº‹åŠ¡ï¼‰
     */
    public Product getProductById(Long id) {
        return productMapper.selectByPrimaryKey(id);
    }
    
    /**
     * åˆ›å»ºäº§å“ï¼ˆå¸¦äº‹åŠ¡ï¼‰
     * å¿…é¡»æ˜ç¡®æŒ‡å®šä»æ•°æ®æºçš„äº‹åŠ¡ç®¡ç†å™¨
     */
    @Transactional(
        transactionManager = "secondaryTransactionManager",
        rollbackFor = Exception.class
    )
    public int createProduct(Product product) {
        product.setCreateTime(LocalDateTime.now());
        product.setUpdateTime(LocalDateTime.now());
        return productMapper.insert(product);
    }
}
```

### 2. è·¨æ•°æ®æºæ“ä½œ

#### ç¤ºä¾‹ï¼šç”¨æˆ·è´­ä¹°äº§å“

```java
@Service
public class OrderService {
    
    @Autowired
    private UserMapper userMapper;       // ä¸»æ•°æ®æº
    
    @Autowired
    private ProductMapper productMapper; // ä»æ•°æ®æº
    
    /**
     * ç”¨æˆ·è´­ä¹°äº§å“
     * 
     * æ³¨æ„ï¼š
     * 1. è·¨æ•°æ®æºæ“ä½œæ— æ³•ä½¿ç”¨ç»Ÿä¸€äº‹åŠ¡
     * 2. éœ€è¦åˆ†åˆ«ç®¡ç†ä¸¤ä¸ªæ•°æ®æºçš„äº‹åŠ¡
     * 3. å»ºè®®ä½¿ç”¨åˆ†å¸ƒå¼äº‹åŠ¡æˆ–æœ€ç»ˆä¸€è‡´æ€§æ–¹æ¡ˆ
     */
    public void purchaseProduct(Long userId, Long productId, Integer quantity) {
        // 1. æŸ¥è¯¢ç”¨æˆ·ï¼ˆä¸»æ•°æ®æºï¼‰
        User user = userMapper.selectByPrimaryKey(userId);
        if (user == null) {
            throw new RuntimeException("ç”¨æˆ·ä¸å­˜åœ¨");
        }
        
        // 2. æŸ¥è¯¢äº§å“ï¼ˆä»æ•°æ®æºï¼‰
        Product product = productMapper.selectByPrimaryKey(productId);
        if (product == null) {
            throw new RuntimeException("äº§å“ä¸å­˜åœ¨");
        }
        
        // 3. æ£€æŸ¥åº“å­˜
        if (product.getStock() < quantity) {
            throw new RuntimeException("åº“å­˜ä¸è¶³");
        }
        
        // 4. æ‰£å‡åº“å­˜ï¼ˆä»æ•°æ®æºäº‹åŠ¡ï¼‰
        updateProductStock(productId, quantity);
        
        // 5. åˆ›å»ºè®¢å•ï¼ˆä¸»æ•°æ®æºäº‹åŠ¡ï¼‰
        createOrder(userId, productId, quantity);
    }
    
    @Transactional(
        transactionManager = "secondaryTransactionManager",
        rollbackFor = Exception.class
    )
    public void updateProductStock(Long productId, Integer quantity) {
        Product product = productMapper.selectByPrimaryKey(productId);
        product.setStock(product.getStock() - quantity);
        product.setUpdateTime(LocalDateTime.now());
        productMapper.updateByPrimaryKey(product);
    }
    
    @Transactional(
        transactionManager = "primaryTransactionManager",
        rollbackFor = Exception.class
    )
    public void createOrder(Long userId, Long productId, Integer quantity) {
        // åˆ›å»ºè®¢å•é€»è¾‘
        // ...
    }
}
```

### 3. æ‰¹é‡æ“ä½œ

#### æ‰¹é‡æ’å…¥ç”¨æˆ·

```java
@Service
public class UserService {
    
    @Autowired
    private UserMapper userMapper;
    
    /**
     * æ‰¹é‡åˆ›å»ºç”¨æˆ·
     * æ•´ä¸ªæ–¹æ³•åœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­æ‰§è¡Œ
     */
    @Transactional(rollbackFor = Exception.class)
    public int batchCreateUsers(List<User> users) {
        int count = 0;
        LocalDateTime now = LocalDateTime.now();
        
        for (User user : users) {
            user.setCreateTime(now);
            user.setUpdateTime(now);
            count += userMapper.insert(user);
        }
        
        return count;
    }
}
```

#### æ‰¹é‡æ’å…¥äº§å“

```java
@Service
public class ProductService {
    
    @Autowired
    private ProductMapper productMapper;
    
    /**
     * æ‰¹é‡åˆ›å»ºäº§å“
     * å¿…é¡»æŒ‡å®šä»æ•°æ®æºçš„äº‹åŠ¡ç®¡ç†å™¨
     */
    @Transactional(
        transactionManager = "secondaryTransactionManager",
        rollbackFor = Exception.class
    )
    public int batchCreateProducts(List<Product> products) {
        int count = 0;
        LocalDateTime now = LocalDateTime.now();
        
        for (Product product : products) {
            product.setCreateTime(now);
            product.setUpdateTime(now);
            count += productMapper.insert(product);
        }
        
        return count;
    }
}
```

### 4. è‡ªå®šä¹‰ SQL

#### åœ¨ Mapper æ¥å£ä¸­æ·»åŠ æ–¹æ³•

```java
public interface UserMapper {
    // ç”Ÿæˆçš„æ–¹æ³•
    User selectByPrimaryKey(Long id);
    
    // è‡ªå®šä¹‰æ–¹æ³•
    List<User> selectByStatus(@Param("status") Integer status);
    
    int updateStatusBatch(@Param("ids") List<Long> ids, 
                         @Param("status") Integer status);
}
```

#### åœ¨ XML ä¸­æ·»åŠ  SQL

```xml
<mapper namespace="com.huabin.multids.db1.mapper.UserMapper">
    
    <!-- ç”Ÿæˆçš„ SQL -->
    <select id="selectByPrimaryKey" ...>
        ...
    </select>
    
    <!-- è‡ªå®šä¹‰ SQL -->
    <select id="selectByStatus" resultMap="BaseResultMap">
        SELECT 
        <include refid="Base_Column_List" />
        FROM user
        WHERE status = #{status}
        ORDER BY create_time DESC
    </select>
    
    <update id="updateStatusBatch">
        UPDATE user
        SET status = #{status},
            update_time = NOW()
        WHERE id IN
        <foreach collection="ids" item="id" open="(" separator="," close=")">
            #{id}
        </foreach>
    </update>
    
</mapper>
```

---

## ğŸ§ª å•å…ƒæµ‹è¯•

### æµ‹è¯•ä¸»æ•°æ®æº

```java
@SpringBootTest
public class UserServiceTest {
    
    @Autowired
    private UserService userService;
    
    @Test
    public void testCreateUser() {
        User user = new User();
        user.setUsername("test_user");
        user.setPassword("123456");
        user.setEmail("test@example.com");
        user.setStatus(1);
        
        int result = userService.createUser(user);
        
        assertTrue(result > 0);
        assertNotNull(user.getId());
        System.out.println("åˆ›å»ºç”¨æˆ·æˆåŠŸï¼ŒID: " + user.getId());
    }
    
    @Test
    public void testGetUser() {
        User user = userService.getUserById(1L);
        assertNotNull(user);
        System.out.println("æŸ¥è¯¢ç”¨æˆ·: " + user);
    }
    
    @Test
    public void testTransactionRollback() {
        try {
            // æµ‹è¯•äº‹åŠ¡å›æ»š
            User user = new User();
            user.setUsername("duplicate_user");
            user.setPassword("123456");
            userService.createUser(user);
            
            // å†æ¬¡æ’å…¥ç›¸åŒç”¨æˆ·åï¼Œåº”è¯¥å¤±è´¥å¹¶å›æ»š
            userService.createUser(user);
            
            fail("åº”è¯¥æŠ›å‡ºå¼‚å¸¸");
        } catch (Exception e) {
            System.out.println("äº‹åŠ¡å›æ»šæˆåŠŸ: " + e.getMessage());
        }
    }
}
```

### æµ‹è¯•ä»æ•°æ®æº

```java
@SpringBootTest
public class ProductServiceTest {
    
    @Autowired
    private ProductService productService;
    
    @Test
    public void testCreateProduct() {
        Product product = new Product();
        product.setProductName("æµ‹è¯•äº§å“");
        product.setProductCode("TEST001");
        product.setPrice(new BigDecimal("99.99"));
        product.setStock(100);
        product.setStatus(1);
        
        int result = productService.createProduct(product);
        
        assertTrue(result > 0);
        assertNotNull(product.getId());
        System.out.println("åˆ›å»ºäº§å“æˆåŠŸï¼ŒID: " + product.getId());
    }
    
    @Test
    public void testGetProduct() {
        Product product = productService.getProductById(1L);
        assertNotNull(product);
        System.out.println("æŸ¥è¯¢äº§å“: " + product);
    }
}
```

### æµ‹è¯•æ•°æ®æºè¿æ¥

```java
@SpringBootTest
public class DataSourceTest {
    
    @Autowired
    @Qualifier("primaryDataSource")
    private DataSource primaryDataSource;
    
    @Autowired
    @Qualifier("secondaryDataSource")
    private DataSource secondaryDataSource;
    
    @Test
    public void testPrimaryDataSource() throws SQLException {
        try (Connection conn = primaryDataSource.getConnection()) {
            assertNotNull(conn);
            assertFalse(conn.isClosed());
            System.out.println("ä¸»æ•°æ®æºè¿æ¥æˆåŠŸ");
            System.out.println("æ•°æ®åº“: " + conn.getCatalog());
        }
    }
    
    @Test
    public void testSecondaryDataSource() throws SQLException {
        try (Connection conn = secondaryDataSource.getConnection()) {
            assertNotNull(conn);
            assertFalse(conn.isClosed());
            System.out.println("ä»æ•°æ®æºè¿æ¥æˆåŠŸ");
            System.out.println("æ•°æ®åº“: " + conn.getCatalog());
        }
    }
}
```

---

## ğŸ“Š æ€§èƒ½æµ‹è¯•

### å¹¶å‘æµ‹è¯•

```java
@SpringBootTest
public class PerformanceTest {
    
    @Autowired
    private UserService userService;
    
    @Test
    public void testConcurrentInsert() throws InterruptedException {
        int threadCount = 10;
        int insertPerThread = 100;
        
        ExecutorService executor = Executors.newFixedThreadPool(threadCount);
        CountDownLatch latch = new CountDownLatch(threadCount);
        
        long startTime = System.currentTimeMillis();
        
        for (int i = 0; i < threadCount; i++) {
            final int threadIndex = i;
            executor.submit(() -> {
                try {
                    for (int j = 0; j < insertPerThread; j++) {
                        User user = new User();
                        user.setUsername("user_" + threadIndex + "_" + j);
                        user.setPassword("123456");
                        user.setStatus(1);
                        userService.createUser(user);
                    }
                } finally {
                    latch.countDown();
                }
            });
        }
        
        latch.await();
        executor.shutdown();
        
        long endTime = System.currentTimeMillis();
        long totalTime = endTime - startTime;
        
        System.out.println("æ€»è€—æ—¶: " + totalTime + "ms");
        System.out.println("æ’å…¥æ€»æ•°: " + (threadCount * insertPerThread));
        System.out.println("å¹³å‡è€—æ—¶: " + (totalTime / (threadCount * insertPerThread)) + "ms/æ¡");
    }
}
```

---

## ğŸ” å¸¸è§é—®é¢˜æ’æŸ¥

### 1. æŸ¥çœ‹æ•°æ®æºé…ç½®

```java
@RestController
@RequestMapping("/api/debug")
public class DebugController {
    
    @Autowired
    @Qualifier("primaryDataSource")
    private DataSource primaryDataSource;
    
    @Autowired
    @Qualifier("secondaryDataSource")
    private DataSource secondaryDataSource;
    
    @GetMapping("/datasources")
    public Map<String, Object> getDataSourceInfo() throws SQLException {
        Map<String, Object> result = new HashMap<>();
        
        // ä¸»æ•°æ®æºä¿¡æ¯
        try (Connection conn = primaryDataSource.getConnection()) {
            Map<String, String> primary = new HashMap<>();
            primary.put("url", conn.getMetaData().getURL());
            primary.put("database", conn.getCatalog());
            primary.put("username", conn.getMetaData().getUserName());
            result.put("primary", primary);
        }
        
        // ä»æ•°æ®æºä¿¡æ¯
        try (Connection conn = secondaryDataSource.getConnection()) {
            Map<String, String> secondary = new HashMap<>();
            secondary.put("url", conn.getMetaData().getURL());
            secondary.put("database", conn.getCatalog());
            secondary.put("username", conn.getMetaData().getUserName());
            result.put("secondary", secondary);
        }
        
        return result;
    }
}
```

### 2. æŸ¥çœ‹ Mapper æ³¨å†Œæƒ…å†µ

```java
@RestController
@RequestMapping("/api/debug")
public class DebugController {
    
    @Autowired
    private ApplicationContext applicationContext;
    
    @GetMapping("/mappers")
    public Map<String, Object> getMappers() {
        Map<String, Object> result = new HashMap<>();
        
        String[] beanNames = applicationContext.getBeanNamesForType(Object.class);
        List<String> mappers = new ArrayList<>();
        
        for (String beanName : beanNames) {
            if (beanName.toLowerCase().contains("mapper")) {
                mappers.add(beanName);
            }
        }
        
        result.put("count", mappers.size());
        result.put("mappers", mappers);
        
        return result;
    }
}
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [01-å¤šæ•°æ®æºé…ç½®è¯´æ˜.md](./01-å¤šæ•°æ®æºé…ç½®è¯´æ˜.md)
- [02-ä»£ç ç”Ÿæˆå™¨ä½¿ç”¨æŒ‡å—.md](./02-ä»£ç ç”Ÿæˆå™¨ä½¿ç”¨æŒ‡å—.md)
- [README.md](./README.md)
