# Eurekaæ•…éšœè½¬ç§»ä¸è´Ÿè½½å‡è¡¡å®Œæ•´æŒ‡å—

## ğŸ“– é¡¹ç›®ç®€ä»‹

æœ¬é¡¹ç›®ä»**æ¶æ„å¸ˆè§†è§’**æ·±å…¥å‰–æEurekaçš„æ•…éšœè½¬ç§»æœºåˆ¶å’Œè´Ÿè½½å‡è¡¡ç­–ç•¥ï¼Œå¹¶æä¾›å®Œæ•´çš„ç”Ÿäº§ç¯å¢ƒæœ€ä½³å®è·µã€‚

### æ ¸å¿ƒé—®é¢˜è§£ç­”

**Q: Eurekaæ³¨å†Œä¸­å¿ƒç¼“å­˜èŠ‚ç‚¹åˆ—è¡¨ä¸­æœ‰ä¸€å°æœåŠ¡å™¨å®é™…ä¸Šå·²ç»æŒ‚äº†ï¼Œä½†æ˜¯æ²¡æ¥å¾—åŠç§»é™¤ï¼ŒæœåŠ¡è¿˜æ˜¯ä¼šè¢«æ‰“åˆ°è¿™å°å¤±æ•ˆçš„æœåŠ¡å™¨ï¼Œè¿™æ—¶å€™Eurekaä¼šæ€ä¹ˆåšï¼Ÿ**

**A**: Eurekaé€šè¿‡ä»¥ä¸‹æœºåˆ¶å¤„ç†ï¼š

1. **æ•…éšœæ£€æµ‹**ï¼š
   - å¿ƒè·³è¶…æ—¶æ£€æµ‹ï¼ˆé»˜è®¤90ç§’ï¼‰
   - æœåŠ¡å‰”é™¤ä»»åŠ¡ï¼ˆé»˜è®¤60ç§’é—´éš”ï¼‰
   - å¤šçº§ç¼“å­˜æ›´æ–°ï¼ˆServerç¼“å­˜30ç§’ + Clientç¼“å­˜30ç§’ï¼‰

2. **æ•…éšœè½¬ç§»**ï¼š
   - Ribbonè‡ªåŠ¨é‡è¯•æœºåˆ¶
   - è¯·æ±‚å¤±è´¥æ—¶åˆ‡æ¢åˆ°å…¶ä»–å¥åº·å®ä¾‹
   - Hystrixç†”æ–­å™¨å¿«é€Ÿå¤±è´¥

3. **æ—¶é—´çª—å£**ï¼š
   - é»˜è®¤é…ç½®ï¼šæœ€é•¿240ç§’ï¼ˆ4åˆ†é’Ÿï¼‰
   - ä¼˜åŒ–é…ç½®ï¼šå¯ç¼©çŸ­è‡³30-60ç§’

**è¯¦ç»†è¯´æ˜**ï¼šå‚è§ [04-Eurekaæ•…éšœè½¬ç§»æœºåˆ¶æ·±åº¦å‰–æ.md](./docs/04-Eurekaæ•…éšœè½¬ç§»æœºåˆ¶æ·±åº¦å‰–æ.md)

---

**Q: å¦‚ä½•é‡æ–°æ‰“åˆ°å…¶ä»–çš„æœåŠ¡å™¨ä¸è®©è¯·æ±‚æŠ¥é”™ï¼Ÿ**

**A**: é€šè¿‡Ribbonçš„é‡è¯•æœºåˆ¶ï¼š

```yaml
ribbon:
  ConnectTimeout: 1000  # è¿æ¥è¶…æ—¶1ç§’
  ReadTimeout: 3000  # è¯»å–è¶…æ—¶3ç§’
  MaxAutoRetries: 0  # åŒä¸€å®ä¾‹ä¸é‡è¯•
  MaxAutoRetriesNextServer: 2  # åˆ‡æ¢å®ä¾‹é‡è¯•2æ¬¡
```

**å·¥ä½œæµç¨‹**ï¼š
1. è¯·æ±‚å®ä¾‹Aå¤±è´¥ï¼ˆè¿æ¥è¶…æ—¶ï¼‰
2. Ribbonè‡ªåŠ¨åˆ‡æ¢åˆ°å®ä¾‹Bé‡è¯•
3. å®ä¾‹BæˆåŠŸå“åº”
4. ç”¨æˆ·æ— æ„ŸçŸ¥ï¼Œè¯·æ±‚æˆåŠŸ

**è¯¦ç»†è¯´æ˜**ï¼šå‚è§ [04-Eurekaæ•…éšœè½¬ç§»æœºåˆ¶æ·±åº¦å‰–æ.md](./docs/04-Eurekaæ•…éšœè½¬ç§»æœºåˆ¶æ·±åº¦å‰–æ.md) ç¬¬äº”ç« 

---

**Q: Eurekaçš„è´Ÿè½½å‡è¡¡ç­–ç•¥æ€ä¹ˆåšçš„ï¼Ÿ**

**A**: Ribbonæä¾›7ç§å†…ç½®ç­–ç•¥ï¼š

| ç­–ç•¥ | ç®—æ³• | é€‚ç”¨åœºæ™¯ |
|------|------|---------|
| RoundRobinRule | è½®è¯¢ | å®ä¾‹æ€§èƒ½ç›¸è¿‘ |
| RandomRule | éšæœº | ç®€å•åœºæ™¯ |
| WeightedResponseTimeRule | å“åº”æ—¶é—´åŠ æƒ | æ€§èƒ½å·®å¼‚å¤§ |
| RetryRule | é‡è¯• | ç½‘ç»œä¸ç¨³å®š |
| BestAvailableRule | æœ€ä½å¹¶å‘ | è¯·æ±‚æ—¶é•¿å·®å¼‚å¤§ |
| AvailabilityFilteringRule | å¯ç”¨æ€§è¿‡æ»¤ | éœ€è¦é«˜å¯ç”¨ |
| ZoneAvoidanceRule | åŒºåŸŸé¿è®© | å¤šæœºæˆ¿éƒ¨ç½²ï¼ˆé»˜è®¤ï¼‰ |

**ç”Ÿäº§ç¯å¢ƒæ¨è**ï¼š
- å•æœºæˆ¿ï¼š`AvailabilityFilteringRule`
- å¤šæœºæˆ¿ï¼š`ZoneAvoidanceRule`ï¼ˆé»˜è®¤ï¼‰
- ç°åº¦å‘å¸ƒï¼šè‡ªå®šä¹‰`GrayReleaseRule`

**è¯¦ç»†è¯´æ˜**ï¼šå‚è§ [05-Eurekaè´Ÿè½½å‡è¡¡ç­–ç•¥è¯¦è§£.md](./docs/05-Eurekaè´Ÿè½½å‡è¡¡ç­–ç•¥è¯¦è§£.md)

---

**Q: ç”Ÿäº§ç¯å¢ƒä¸­çš„æœ€ä½³å®è·µåº”è¯¥æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ**

**A**: ç”Ÿäº§ç¯å¢ƒæœ€ä½³å®è·µï¼š

### 1. æ¶æ„è®¾è®¡
- âœ… Eureka Serverè‡³å°‘3èŠ‚ç‚¹é›†ç¾¤
- âœ… è·¨æœºæˆ¿éƒ¨ç½²ï¼ˆå¤šZoneï¼‰
- âœ… å¯ç”¨HTTPSå’Œè®¤è¯
- âœ… é…ç½®å¥åº·æ£€æŸ¥

### 2. å…³é”®é…ç½®
```yaml
# Eureka Server
eureka:
  server:
    enable-self-preservation: true  # å¿…é¡»å¼€å¯
    eviction-interval-timer-in-ms: 10000
    response-cache-update-interval-ms: 3000

# Eureka Client
eureka:
  instance:
    lease-renewal-interval-in-seconds: 10
    lease-expiration-duration-in-seconds: 30
  client:
    registry-fetch-interval-seconds: 10

# Ribbon
ribbon:
  NFLoadBalancerRuleClassName: com.netflix.loadbalancer.ZoneAvoidanceRule
  ConnectTimeout: 1000
  ReadTimeout: 3000
  MaxAutoRetriesNextServer: 2

# Hystrix
hystrix:
  command:
    default:
      execution:
        isolation:
          thread:
            timeoutInMilliseconds: 15000
      circuitBreaker:
        enabled: true
```

### 3. ç›‘æ§å‘Šè­¦
- âœ… é›†æˆPrometheusé‡‡é›†æŒ‡æ ‡
- âœ… é…ç½®Grafanaç›‘æ§é¢æ¿
- âœ… è®¾ç½®å…³é”®æŒ‡æ ‡å‘Šè­¦
- âœ… æ—¥å¿—é›†ä¸­æ”¶é›†

**è¯¦ç»†è¯´æ˜**ï¼šå‚è§ [06-Eurekaç”Ÿäº§ç¯å¢ƒæœ€ä½³å®è·µ.md](./docs/06-Eurekaç”Ÿäº§ç¯å¢ƒæœ€ä½³å®è·µ.md)

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
springboot-eureka-learning/
â”œâ”€â”€ docs/                                    # æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ README.md                           # æ–‡æ¡£æ€»è§ˆ
â”‚   â”œâ”€â”€ 04-Eurekaæ•…éšœè½¬ç§»æœºåˆ¶æ·±åº¦å‰–æ.md     # æ•…éšœè½¬ç§»æœºåˆ¶
â”‚   â”œâ”€â”€ 05-Eurekaè´Ÿè½½å‡è¡¡ç­–ç•¥è¯¦è§£.md         # è´Ÿè½½å‡è¡¡ç­–ç•¥
â”‚   â”œâ”€â”€ 06-Eurekaç”Ÿäº§ç¯å¢ƒæœ€ä½³å®è·µ.md         # ç”Ÿäº§æœ€ä½³å®è·µ
â”‚   â”œâ”€â”€ 07-æ•…éšœè½¬ç§»ä¸è´Ÿè½½å‡è¡¡æ€»è§ˆ.md         # æ€»è§ˆä¸FAQ
â”‚   â”œâ”€â”€ 08-æ¼”ç¤ºä»£ç è¯´æ˜.md                   # æ¼”ç¤ºä»£ç è¯´æ˜
â”‚   â””â”€â”€ 09-ç”Ÿäº§çº§é¡¹ç›®æ¼”ç¤ºè¯´æ˜.md             # ç”Ÿäº§çº§é¡¹ç›®è¯´æ˜
â”‚
â”œâ”€â”€ demo-failover-loadbalance/              # æ¼”ç¤ºä»£ç ï¼ˆå¾…åˆ›å»ºï¼‰
â”‚   â”œâ”€â”€ demo-eureka-server/                 # Eureka Server
â”‚   â”œâ”€â”€ demo-service-provider/              # æœåŠ¡æä¾›è€…
â”‚   â”œâ”€â”€ demo-service-consumer/              # æœåŠ¡æ¶ˆè´¹è€…
â”‚   â”œâ”€â”€ start-demo.sh                       # å¯åŠ¨è„šæœ¬
â”‚   â””â”€â”€ test-failover.sh                    # æµ‹è¯•è„šæœ¬
â”‚
â””â”€â”€ production-demo/                        # ç”Ÿäº§çº§é¡¹ç›®ï¼ˆå¾…åˆ›å»ºï¼‰
    â”œâ”€â”€ eureka-server-cluster/              # Eurekaé›†ç¾¤
    â”œâ”€â”€ service-provider/                   # æœåŠ¡æä¾›è€…
    â”œâ”€â”€ service-consumer/                   # æœåŠ¡æ¶ˆè´¹è€…
    â”œâ”€â”€ monitoring/                         # ç›‘æ§ç»„ä»¶
    â”œâ”€â”€ scripts/                            # è„šæœ¬ç›®å½•
    â””â”€â”€ docker/                             # Dockerç›¸å…³
```

## ğŸ¯ å­¦ä¹ è·¯å¾„

### åˆçº§å­¦ä¹ è€…

```
1. é˜…è¯» 07-æ•…éšœè½¬ç§»ä¸è´Ÿè½½å‡è¡¡æ€»è§ˆ.md
   - å¿«é€Ÿäº†è§£æ ¸å¿ƒé—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ
   â†“
2. æ·±å…¥å­¦ä¹  04-Eurekaæ•…éšœè½¬ç§»æœºåˆ¶æ·±åº¦å‰–æ.md
   - ç†è§£å¿ƒè·³ã€å‰”é™¤ã€ç¼“å­˜æœºåˆ¶
   - æŒæ¡æ•…éšœè½¬ç§»æµç¨‹
   â†“
3. æ·±å…¥å­¦ä¹  05-Eurekaè´Ÿè½½å‡è¡¡ç­–ç•¥è¯¦è§£.md
   - ç†è§£å„ç§è´Ÿè½½å‡è¡¡ç­–ç•¥
   - å­¦ä¹ ç­–ç•¥é€‰æ‹©æ–¹æ³•
   â†“
4. è¿è¡Œæ¼”ç¤ºä»£ç ï¼ˆ08-æ¼”ç¤ºä»£ç è¯´æ˜.mdï¼‰
   - è§‚å¯Ÿæ•…éšœæ£€æµ‹è¿‡ç¨‹
   - æµ‹è¯•ä¸åŒè´Ÿè½½å‡è¡¡ç­–ç•¥
```

### æ¶æ„å¸ˆ/é«˜çº§å¼€å‘

```
1. é˜…è¯» 07-æ•…éšœè½¬ç§»ä¸è´Ÿè½½å‡è¡¡æ€»è§ˆ.md
   - å»ºç«‹æ•´ä½“è®¤çŸ¥
   â†“
2. æ·±å…¥å­¦ä¹  04ã€05ã€06 ä¸‰ç¯‡æ ¸å¿ƒæ–‡æ¡£
   - æŒæ¡æ•…éšœè½¬ç§»æœºåˆ¶
   - æŒæ¡è´Ÿè½½å‡è¡¡ç­–ç•¥
   - æŒæ¡ç”Ÿäº§æœ€ä½³å®è·µ
   â†“
3. è¿è¡Œæ¼”ç¤ºä»£ç 
   - éªŒè¯æ ¸å¿ƒæ¦‚å¿µ
   â†“
4. éƒ¨ç½²ç”Ÿäº§çº§é¡¹ç›®ï¼ˆ09-ç”Ÿäº§çº§é¡¹ç›®æ¼”ç¤ºè¯´æ˜.mdï¼‰
   - Eureka Serveré›†ç¾¤
   - å¤šZoneéƒ¨ç½²
   - ç›‘æ§å‘Šè­¦é…ç½®
   - æ•…éšœæ¼”ç»ƒ
   â†“
5. åº”ç”¨åˆ°ç”Ÿäº§ç¯å¢ƒ
```

## ğŸ“š æ–‡æ¡£åˆ—è¡¨

### æ ¸å¿ƒæ–‡æ¡£

1. **[04-Eurekaæ•…éšœè½¬ç§»æœºåˆ¶æ·±åº¦å‰–æ.md](./docs/04-Eurekaæ•…éšœè½¬ç§»æœºåˆ¶æ·±åº¦å‰–æ.md)**
   - é—®é¢˜åœºæ™¯åˆ†æ
   - æ•…éšœæ£€æµ‹æœºåˆ¶ï¼ˆå¿ƒè·³ã€å‰”é™¤ã€è‡ªæˆ‘ä¿æŠ¤ï¼‰
   - å®¢æˆ·ç«¯ç¼“å­˜æœºåˆ¶
   - æ•…éšœè½¬ç§»å®Œæ•´æµç¨‹
   - Ribboné‡è¯•æœºåˆ¶
   - ä¼˜åŒ–ç­–ç•¥
   - ç›‘æ§å‘Šè­¦

2. **[05-Eurekaè´Ÿè½½å‡è¡¡ç­–ç•¥è¯¦è§£.md](./docs/05-Eurekaè´Ÿè½½å‡è¡¡ç­–ç•¥è¯¦è§£.md)**
   - Ribbonæ¶æ„
   - 7ç§å†…ç½®ç­–ç•¥è¯¦è§£
   - è‡ªå®šä¹‰ç­–ç•¥ï¼ˆIP Hashã€æƒé‡ã€ç°åº¦å‘å¸ƒï¼‰
   - ç­–ç•¥å¯¹æ¯”ä¸é€‰æ‹©
   - æ€§èƒ½è°ƒä¼˜

3. **[06-Eurekaç”Ÿäº§ç¯å¢ƒæœ€ä½³å®è·µ.md](./docs/06-Eurekaç”Ÿäº§ç¯å¢ƒæœ€ä½³å®è·µ.md)**
   - é«˜å¯ç”¨æ¶æ„è®¾è®¡
   - å¤šæœºæˆ¿éƒ¨ç½²
   - æ•…éšœè½¬ç§»ä¼˜åŒ–
   - ç›‘æ§å‘Šè­¦
   - å®‰å…¨åŠ å›º
   - æ€§èƒ½ä¼˜åŒ–

### è¾…åŠ©æ–‡æ¡£

4. **[07-æ•…éšœè½¬ç§»ä¸è´Ÿè½½å‡è¡¡æ€»è§ˆ.md](./docs/07-æ•…éšœè½¬ç§»ä¸è´Ÿè½½å‡è¡¡æ€»è§ˆ.md)**
   - æ–‡æ¡£å¯¼èˆª
   - æ ¸å¿ƒé—®é¢˜è§£ç­”
   - æŠ€æœ¯ç‚¹æ€»ç»“
   - å¸¸è§é—®é¢˜FAQ

5. **[08-æ¼”ç¤ºä»£ç è¯´æ˜.md](./docs/08-æ¼”ç¤ºä»£ç è¯´æ˜.md)**
   - æ¼”ç¤ºä»£ç ç»“æ„
   - 5ä¸ªæ ¸å¿ƒåœºæ™¯
   - å¿«é€Ÿå¼€å§‹æŒ‡å—
   - æµ‹è¯•è„šæœ¬

6. **[09-ç”Ÿäº§çº§é¡¹ç›®æ¼”ç¤ºè¯´æ˜.md](./docs/09-ç”Ÿäº§çº§é¡¹ç›®æ¼”ç¤ºè¯´æ˜.md)**
   - ç”Ÿäº§çº§æ¶æ„
   - é›†ç¾¤éƒ¨ç½²
   - ç›‘æ§å‘Šè­¦
   - ç°åº¦å‘å¸ƒ
   - æ··æ²Œæµ‹è¯•

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. é˜…è¯»æ–‡æ¡£

```bash
# è¿›å…¥æ–‡æ¡£ç›®å½•
cd docs

# ä»æ€»è§ˆå¼€å§‹
cat 07-æ•…éšœè½¬ç§»ä¸è´Ÿè½½å‡è¡¡æ€»è§ˆ.md

# æ·±å…¥å­¦ä¹ æ ¸å¿ƒæ–‡æ¡£
cat 04-Eurekaæ•…éšœè½¬ç§»æœºåˆ¶æ·±åº¦å‰–æ.md
cat 05-Eurekaè´Ÿè½½å‡è¡¡ç­–ç•¥è¯¦è§£.md
cat 06-Eurekaç”Ÿäº§ç¯å¢ƒæœ€ä½³å®è·µ.md
```

### 2. è¿è¡Œæ¼”ç¤ºä»£ç ï¼ˆå¾…åˆ›å»ºï¼‰

```bash
# è¿›å…¥æ¼”ç¤ºä»£ç ç›®å½•
cd demo-failover-loadbalance

# å¯åŠ¨æ‰€æœ‰æœåŠ¡
./start-demo.sh

# æµ‹è¯•æ•…éšœè½¬ç§»
./test-failover.sh

# æµ‹è¯•è´Ÿè½½å‡è¡¡
./test-loadbalance.sh
```

### 3. éƒ¨ç½²ç”Ÿäº§çº§é¡¹ç›®ï¼ˆå¾…åˆ›å»ºï¼‰

```bash
# è¿›å…¥ç”Ÿäº§çº§é¡¹ç›®ç›®å½•
cd production-demo

# å¯åŠ¨é›†ç¾¤
./scripts/start-cluster.sh

# å¯åŠ¨ç›‘æ§
cd monitoring
docker-compose up -d

# è¿è¡Œæµ‹è¯•
./scripts/test-failover.sh
./scripts/test-gray-release.sh
./scripts/performance-test.sh
```

## ğŸ’¡ æ ¸å¿ƒçŸ¥è¯†ç‚¹

### æ•…éšœè½¬ç§»æœºåˆ¶

```
æ—¶é—´çº¿ï¼š
T0: æœåŠ¡å®•æœº
  â†“ 90ç§’ï¼ˆå¿ƒè·³è¶…æ—¶ï¼‰
T1: Eureka Serveræ£€æµ‹åˆ°
  â†“ 60ç§’ï¼ˆå‰”é™¤é—´éš”ï¼‰
T2: Serverå‰”é™¤å®ä¾‹
  â†“ 30ç§’ï¼ˆServerç¼“å­˜æ›´æ–°ï¼‰
T3: Serverç¼“å­˜æ›´æ–°
  â†“ 30ç§’ï¼ˆClientç¼“å­˜æ›´æ–°ï¼‰
T4: Clientåœæ­¢è·¯ç”±åˆ°æ•…éšœå®ä¾‹

é»˜è®¤æ€»å»¶è¿Ÿï¼š240ç§’ï¼ˆ4åˆ†é’Ÿï¼‰
ä¼˜åŒ–åå»¶è¿Ÿï¼š30-60ç§’
```

### è´Ÿè½½å‡è¡¡ç­–ç•¥

```
ç­–ç•¥é€‰æ‹©å†³ç­–æ ‘ï¼š

å¤šæœºæˆ¿éƒ¨ç½²ï¼Ÿ
â”œâ”€ æ˜¯ â†’ ZoneAvoidanceRuleï¼ˆæ¨èï¼‰
â””â”€ å¦ â†“

å®ä¾‹æ€§èƒ½å·®å¼‚å¤§ï¼Ÿ
â”œâ”€ æ˜¯ â†’ WeightedResponseTimeRule
â””â”€ å¦ â†“

éœ€è¦ä¼šè¯ä¿æŒï¼Ÿ
â”œâ”€ æ˜¯ â†’ è‡ªå®šä¹‰IpHashRule
â””â”€ å¦ â†“

éœ€è¦ç°åº¦å‘å¸ƒï¼Ÿ
â”œâ”€ æ˜¯ â†’ è‡ªå®šä¹‰GrayReleaseRule
â””â”€ å¦ â†’ RoundRobinRule
```

### ç”Ÿäº§ç¯å¢ƒé…ç½®

```yaml
# å…³é”®é…ç½®å¯¹æ¯”
é…ç½®é¡¹                    å¼€å‘ç¯å¢ƒ    æµ‹è¯•ç¯å¢ƒ    ç”Ÿäº§ç¯å¢ƒ
Eureka ServerèŠ‚ç‚¹æ•°        1          2          â‰¥3
å¿ƒè·³é—´éš”                   30s        15s        10s
ç§Ÿçº¦è¿‡æœŸ                   90s        45s        30s
å‰”é™¤é—´éš”                   60s        30s        10s
ç¼“å­˜æ›´æ–°                   30s        10s        3s
è‡ªæˆ‘ä¿æŠ¤                   å…³é—­        å¼€å¯        å¼€å¯
HTTPS                     å¦         å¯é€‰        æ˜¯
è®¤è¯                      å¦         å¯é€‰        æ˜¯
```

## â“ å¸¸è§é—®é¢˜

### Q1: ä¸ºä»€ä¹ˆæœåŠ¡å·²ç»å®•æœºäº†ï¼ŒEurekaè¿˜æ˜¾ç¤ºUPçŠ¶æ€ï¼Ÿ

**A**: è¿™æ˜¯ç”±äºEurekaçš„æœ€ç»ˆä¸€è‡´æ€§è®¾è®¡å¯¼è‡´çš„å»¶è¿Ÿã€‚è§£å†³æ–¹æ¡ˆï¼š
- ç¼©çŸ­å¿ƒè·³å’Œå‰”é™¤æ—¶é—´
- å¯ç”¨å¥åº·æ£€æŸ¥
- é…ç½®Ribboné‡è¯•

### Q2: å¦‚ä½•é€‰æ‹©è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼Ÿ

**A**: æ ¹æ®åœºæ™¯é€‰æ‹©ï¼š
- å•æœºæˆ¿ + æ€§èƒ½ç›¸è¿‘ â†’ RoundRobinRule
- å¤šæœºæˆ¿éƒ¨ç½² â†’ ZoneAvoidanceRule
- æ€§èƒ½å·®å¼‚å¤§ â†’ WeightedResponseTimeRule
- éœ€è¦ä¼šè¯ä¿æŒ â†’ è‡ªå®šä¹‰IpHashRule

### Q3: Ribboné‡è¯•ä¼šå¯¼è‡´é‡å¤è¯·æ±‚å—ï¼Ÿ

**A**: æ˜¯çš„ã€‚å»ºè®®ï¼š
- GETè¯·æ±‚ï¼šå¯ä»¥å¼€å¯é‡è¯•
- éå¹‚ç­‰æ“ä½œï¼šä¸è¦å¼€å¯é‡è¯•
- é…ç½®ï¼š`OkToRetryOnAllOperations=false`

### Q4: Hystrixè¶…æ—¶å’ŒRibbonè¶…æ—¶å¦‚ä½•é…ç½®ï¼Ÿ

**A**: å¿…é¡»æ»¡è¶³ï¼š
```
Hystrixè¶…æ—¶ > Ribbonæ€»è¶…æ—¶

Ribbonæ€»è¶…æ—¶ = (ConnectTimeout + ReadTimeout) 
             Ã— (MaxAutoRetries + 1) 
             Ã— (MaxAutoRetriesNextServer + 1)
```

æ›´å¤šé—®é¢˜è¯·å‚è§ï¼š[07-æ•…éšœè½¬ç§»ä¸è´Ÿè½½å‡è¡¡æ€»è§ˆ.md](./docs/07-æ•…éšœè½¬ç§»ä¸è´Ÿè½½å‡è¡¡æ€»è§ˆ.md) ç¬¬å…­ç« 

## ğŸ”§ æŠ€æœ¯æ ˆ

- **JDK**: 1.8
- **Spring Boot**: 2.3.x
- **Spring Cloud**: Hoxton.SR12
- **Eureka**: Netflix Eureka
- **Ribbon**: Netflix Ribbon
- **Hystrix**: Netflix Hystrix
- **ç›‘æ§**: Prometheus + Grafana
- **å®¹å™¨åŒ–**: Docker + Docker Compose

## ğŸ“– å‚è€ƒèµ„æº

### å®˜æ–¹æ–‡æ¡£
- [Spring Cloud Netflix](https://spring.io/projects/spring-cloud-netflix)
- [Netflix Eureka Wiki](https://github.com/Netflix/eureka/wiki)
- [Netflix Ribbon Wiki](https://github.com/Netflix/ribbon/wiki)

### æºç ä»“åº“
- [Eurekaæºç ](https://github.com/Netflix/eureka)
- [Ribbonæºç ](https://github.com/Netflix/ribbon)
- [Hystrixæºç ](https://github.com/Netflix/Hystrix)

## ğŸ“ æ€»ç»“

æœ¬é¡¹ç›®æä¾›äº†Eurekaæ•…éšœè½¬ç§»å’Œè´Ÿè½½å‡è¡¡çš„å®Œæ•´è§£å†³æ–¹æ¡ˆï¼š

1. âœ… **ç†è®ºæ–‡æ¡£**ï¼šæ·±å…¥å‰–æåŸç†æœºåˆ¶
2. âœ… **æ¼”ç¤ºä»£ç **ï¼šç®€åŒ–ç‰ˆæ¼”ç¤ºæ ¸å¿ƒæ¦‚å¿µï¼ˆå¾…åˆ›å»ºï¼‰
3. âœ… **ç”Ÿäº§é¡¹ç›®**ï¼šå®Œæ•´çš„ç”Ÿäº§çº§å®è·µï¼ˆå¾…åˆ›å»ºï¼‰
4. âœ… **æœ€ä½³å®è·µ**ï¼šæ¶æ„å¸ˆè§†è§’çš„ç»éªŒæ€»ç»“

é€šè¿‡å­¦ä¹ æœ¬é¡¹ç›®ï¼Œä½ å°†èƒ½å¤Ÿï¼š
- æ·±å…¥ç†è§£Eurekaçš„æ•…éšœè½¬ç§»æœºåˆ¶
- æŒæ¡Ribbonçš„è´Ÿè½½å‡è¡¡ç­–ç•¥
- åœ¨ç”Ÿäº§ç¯å¢ƒä¸­æ­£ç¡®é…ç½®å’Œä¼˜åŒ–Eureka
- å¤„ç†å¸¸è§çš„æ•…éšœåœºæ™¯
- å®æ–½å®Œæ•´çš„ç›‘æ§å‘Šè­¦ä½“ç³»

---

**ç‰ˆæœ¬**: v1.0  
**æ›´æ–°æ—¶é—´**: 2026-01-20  
**ä½œè€…**: æ¶æ„å¸ˆè§†è§’  
**é€‚ç”¨ç‰ˆæœ¬**: Spring Cloud Hoxton.SR12 / Spring Boot 2.3.x / JDK 1.8

**ç¥ä½ å­¦ä¹ æ„‰å¿«ï¼ğŸ‰**
